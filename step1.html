{% extends 'base.html' %}

{% block content %}
    <div>
        <h2>Product Information</h2>

        <form method="post">
            <!-- Product Information -->
            <div class="form-group">
                <label>Product Name:</label>
                <input type="text" name="product_name" value="{{ form.product_name.data }}" required>
            </div>

            <div class="form-group">
                <label>Version (Optional):</label>
                <input type="text" name="version" value="{{ form.version.data }}">
            </div>

            <div class="form-group">
                <label>Launch Date:</label>
                <input type="date" name="launch_date" value="{{ form.launch_date.data }}" required>
            </div>

            <div class="form-group">
                <label>Status:</label>
                <select name="status">
                    <option value="Active" {% if form.status.data == 'Active' %}selected{% endif %}>Active</option>
                    <option value="In development" {% if form.status.data == 'In development' %}selected{% endif %}>In development</option>
                </select>
            </div>

            <div class="form-group">
                <label>Product Properties:</label>
                <select name="product_properties" >
                    <option value="AI">AI</option>
                    <option value="GUI">GUI</option>
                    <option value="Personal Information">Personal Information</option>
                </select>
            </div>
            

            <div class="form-group">
                <label>Retirement Date:</label>
                <input type="date" name="retirement_date" value="{{ form.retirement_date.data }}" required>
            </div>

            <div class="form-group">
                <label>Description (Max 2500 words):</label>
                <textarea name="description" maxlength="2500">{{ form.description.data }}</textarea>
            </div>

            <div class="form-group">
                <label>Risks (Optional) (Max 2500 words):</label>
                <textarea name="risks" maxlength="2500">{{ form.risks.data }}</textarea>
            </div>

            <div class="form-group">
                <label>Additional Properties (Optional) (Max 2500 words):</label>
                <textarea name="additional_properties" maxlength="2500">{{ form.additional_properties.data }}</textarea>
            </div>

            <div class="form-group">
                <label>Product Documentation URL (Optional):</label>
                <input type="url" name="documentation_url" value="{{ form.documentation_url.data }}">
            </div>

            <div class="form-group">
                <label>Repository URL (Optional):</label>
                <input type="url" name="repository_url" value="{{ form.repository_url.data }}">
            </div>

            <div class="form-group">
                <label>Metrics Dashboard (Optional):</label>
                <input type="url" name="metrics_dashboard" value="{{ form.metrics_dashboard.data }}">
            </div>

            <!-- Business Value Section -->
            <h3>Business Value</h3>

            <div class="form-group">
                <label>Decision Making (0-10):</label>
                <input type="range" name="decision_making" min="0" max="10" value="{{ form.decision_making.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.decision_making.data }}</span>
            </div>

            <div class="form-group">
                <label>Monetization (0-10):</label>
                <input type="range" name="monetization" min="0" max="10" value="{{ form.monetization.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.monetization.data }}</span>
            </div>

            <div class="form-group">
                <label>Time Savings (0-10):</label>
                <input type="range" name="time_savings" min="0" max="10" value="{{ form.time_savings.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.time_savings.data }}</span>
            </div>

            <div class="form-group">
                <label>Reporting (0-10):</label>
                <input type="range" name="reporting" min="0" max="10" value="{{ form.reporting.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.reporting.data }}</span>
            </div>

            <div class="form-group">
                <label>Processes (0-10):</label>
                <input type="range" name="processes" min="0" max="10" value="{{ form.processes.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.processes.data }}</span>
            </div>

            <div class="form-group">
                <label>Collaboration (0-10):</label>
                <input type="range" name="collaboration" min="0" max="10" value="{{ form.collaboration.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.collaboration.data }}</span>
            </div>

            <div class="form-group">
                <label>Documentation Audits (0-10):</label>
                <input type="range" name="documentation_audits" min="0" max="10" value="{{ form.documentation_audits.data }}" onchange="updateSliderValue(this)">
                <span>{{ form.documentation_audits.data }}</span>
            </div>

            <!-- Product Owner Section -->
            <h3>Product Owner Information</h3>
            <div class="form-group">
                <label>Product Owner Name:</label>
                <input type="text" name="product_owner_name" value="{{ form.product_owner_name.data }}" required>
            </div>

            <div class="form-group">
                <label>Product Owner ZID:</label>
                <input type="text" name="product_owner_zid" value="{{ form.product_owner_zid.data }}" required>
            </div>

            <div class="form-group">
                <label>Product Owner Email:</label>
                <input type="email" name="product_owner_email" value="{{ form.product_owner_email.data }}" required>
            </div>

            <div class="form-group">
                <label>Product Owner Type:</label>
                <select name="product_owner_type">
                    <option value="Owner" {% if form.product_owner_type.data == 'Owner' %}selected{% endif %}>Owner</option>
                </select>
            </div>

            <div class="form-group">
                <label>Valid From Date:</label>
                <input type="date" name="valid_from_date" value="{{ form.valid_from_date.data }}" required>
            </div>

            <div class="form-group">
                <label>Valid To Date:</label>
                <input type="date" name="valid_to_date" value="{{ form.valid_to_date.data }}" required>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
                <input type="submit" value="Save">
            </div>
        </form>
        <script>
            // Add slider functionality to update the display value
            function updateSliderValue(slider) {
                const value = slider.value;
                slider.nextElementSibling.innerText = value;
            }

            // Update progress bar to Step 1
            updateProgressBar(1);
        </script>
    </div>
{% endblock %}
